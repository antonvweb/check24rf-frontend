import styles from '../styles/profile/checkList/changeTheme.module.css';
import gsap from 'gsap';
import {useEffect, useState} from "react";
import { MorphSVGPlugin } from "gsap/MorphSVGPlugin";

const originalPath = "M15 28C15.1989 28 15.3896 28.0791 15.5303 28.2197C15.6709 28.3604 15.75 28.5511 15.75 28.75C15.75 28.9489 15.6709 29.1396 15.5303 29.2803C15.3896 29.4209 15.1989 29.5 15 29.5C14.8011 29.5 14.6104 29.4209 14.4697 29.2803C14.3291 29.1396 14.25 28.9489 14.25 28.75C14.25 28.5511 14.3291 28.3604 14.4697 28.2197C14.6104 28.0791 14.8011 28 15 28ZM5.26758 23.9893C5.46416 23.991 5.652 24.07 5.79102 24.209C5.93003 24.348 6.00899 24.5358 6.01074 24.7324C6.01245 24.9289 5.93715 25.1184 5.80078 25.2598C5.7316 25.3314 5.64814 25.3884 5.55664 25.4277C5.4652 25.467 5.36709 25.4884 5.26758 25.4893C5.16799 25.4901 5.06874 25.4713 4.97656 25.4336C4.88445 25.3959 4.80085 25.3399 4.73047 25.2695C4.66009 25.1992 4.60412 25.1155 4.56641 25.0234C4.5287 24.9313 4.50988 24.832 4.51074 24.7324C4.51163 24.6329 4.533 24.5348 4.57227 24.4434C4.61157 24.3519 4.6686 24.2684 4.74023 24.1992C4.88164 24.0629 5.07112 23.9876 5.26758 23.9893ZM24.7148 23.958C24.8144 23.9589 24.9134 23.9802 25.0049 24.0195C25.0962 24.0588 25.179 24.116 25.248 24.1875C25.3845 24.3289 25.4597 24.5183 25.458 24.7148C25.4563 24.9115 25.3773 25.0992 25.2383 25.2383C25.0992 25.3773 24.9115 25.4563 24.7148 25.458C24.5183 25.4597 24.3289 25.3845 24.1875 25.248C24.116 25.179 24.0588 25.0962 24.0195 25.0049C23.9802 24.9134 23.9589 24.8144 23.958 24.7148C23.9572 24.6154 23.977 24.5169 24.0146 24.4248C24.0524 24.3326 24.1073 24.2482 24.1777 24.1777C24.2482 24.1073 24.3326 24.0524 24.4248 24.0146C24.5169 23.977 24.6154 23.9572 24.7148 23.958ZM15 5.5C17.5196 5.5 19.9362 6.50063 21.7178 8.28223C23.4994 10.0638 24.5 12.4804 24.5 15C24.5 17.5196 23.4994 19.9362 21.7178 21.7178C19.9362 23.4994 17.5196 24.5 15 24.5C12.4804 24.5 10.0638 23.4994 8.28223 21.7178C6.50063 19.9362 5.5 17.5196 5.5 15C5.5 12.4804 6.50063 10.0638 8.28223 8.28223C10.0638 6.50063 12.4804 5.5 15 5.5ZM15 7C12.8783 7 10.8431 7.84248 9.34277 9.34277C7.84248 10.8431 7 12.8783 7 15C7 17.1217 7.84248 19.1569 9.34277 20.6572C10.8431 22.1575 12.8783 23 15 23C17.1217 23 19.1569 22.1575 20.6572 20.6572C22.1575 19.1569 23 17.1217 23 15C23 12.8783 22.1575 10.8431 20.6572 9.34277C19.1569 7.84248 17.1217 7 15 7ZM1.25 14.25C1.44891 14.25 1.63962 14.3291 1.78027 14.4697C1.92093 14.6104 2 14.8011 2 15C2 15.1989 1.92093 15.3896 1.78027 15.5303C1.63962 15.6709 1.44891 15.75 1.25 15.75C1.05109 15.75 0.860378 15.6709 0.719727 15.5303C0.579074 15.3896 0.5 15.1989 0.5 15C0.5 14.8011 0.579074 14.6104 0.719727 14.4697C0.86038 14.3291 1.05109 14.25 1.25 14.25ZM28.75 14.25C28.9489 14.25 29.1396 14.3291 29.2803 14.4697C29.4209 14.6104 29.5 14.8011 29.5 15C29.5 15.1989 29.4209 15.3896 29.2803 15.5303C29.1396 15.6709 28.9489 15.75 28.75 15.75C28.5511 15.75 28.3604 15.6709 28.2197 15.5303C28.0791 15.3896 28 15.1989 28 15C28 14.8011 28.0791 14.6104 28.2197 14.4697C28.3604 14.3291 28.5511 14.25 28.75 14.25ZM24.7148 4.54199C24.9115 4.5437 25.0992 4.62266 25.2383 4.76172C25.3773 4.90078 25.4563 5.08851 25.458 5.28516C25.4597 5.4817 25.3845 5.67108 25.248 5.8125C25.179 5.884 25.0962 5.94117 25.0049 5.98047C24.9134 6.01978 24.8144 6.04113 24.7148 6.04199C24.6154 6.04285 24.5169 6.023 24.4248 5.98535C24.3326 5.94764 24.2482 5.89268 24.1777 5.82227C24.1073 5.75185 24.0524 5.66737 24.0146 5.5752C23.977 5.4831 23.9572 5.38464 23.958 5.28516C23.9589 5.18557 23.9802 5.08662 24.0195 4.99512C24.0588 4.90381 24.116 4.82102 24.1875 4.75195C24.3289 4.61545 24.5183 4.5403 24.7148 4.54199ZM5.26758 4.51074C5.36709 4.51163 5.4652 4.533 5.55664 4.57227C5.64814 4.61157 5.7316 4.6686 5.80078 4.74023C5.93715 4.88164 6.01245 5.07112 6.01074 5.26758C6.00899 5.46416 5.93003 5.652 5.79102 5.79102C5.652 5.93003 5.46416 6.00899 5.26758 6.01074C5.07112 6.01245 4.88164 5.93715 4.74023 5.80078C4.6686 5.7316 4.61157 5.64814 4.57227 5.55664C4.533 5.4652 4.51163 5.36709 4.51074 5.26758C4.50988 5.16799 4.5287 5.06874 4.56641 4.97656C4.60412 4.88446 4.66009 4.80085 4.73047 4.73047C4.80085 4.66009 4.88446 4.60412 4.97656 4.56641C5.06874 4.5287 5.16799 4.50988 5.26758 4.51074ZM15 0.5C15.1989 0.5 15.3896 0.579074 15.5303 0.719727C15.6709 0.860378 15.75 1.05109 15.75 1.25C15.75 1.44891 15.6709 1.63962 15.5303 1.78027C15.3896 1.92093 15.1989 2 15 2C14.8011 2 14.6104 1.92093 14.4697 1.78027C14.3291 1.63962 14.25 1.44891 14.25 1.25C14.25 1.05109 14.3291 0.86038 14.4697 0.719727C14.5751 0.61435 14.7086 0.543524 14.8525 0.514648L15 0.5Z";

const newPath = "M8.7373 0.560547C8.88626 0.496446 9.05134 0.483035 9.20801 0.522461C9.36481 0.561972 9.50615 0.652296 9.60938 0.78125L9.61133 0.783203C9.71103 0.906321 9.77235 1.05774 9.78711 1.21777C9.80184 1.3778 9.76914 1.53846 9.69336 1.67871L9.69238 1.67969C8.75169 3.42738 8.23263 5.37324 8.1748 7.3584L8.16992 7.75586C8.17014 14.7039 13.6775 20.3562 20.5381 20.5312L20.8662 20.5352C21.7801 20.534 22.6679 20.4406 23.5273 20.2539L23.5264 20.2529C23.6814 20.2194 23.8432 20.2335 23.9912 20.292C24.1392 20.3505 24.2683 20.452 24.3613 20.585L24.3633 20.5889C24.4568 20.7205 24.5056 20.8805 24.5 21.0439C24.4944 21.2074 24.435 21.3638 24.333 21.4883L24.3291 21.4922C23.0684 23.0601 21.4788 24.3234 19.6758 25.1895C17.8729 26.0555 15.9022 26.503 13.9072 26.5H13.9062C6.50242 26.5 0.500184 20.4595 0.5 13.0107C0.5 7.40578 3.89721 2.5985 8.7334 0.561523L8.7373 0.560547ZM7.85742 1.77246C5.84874 2.8637 4.17045 4.48533 3 6.46387C1.82959 8.44236 1.2103 10.7044 1.20801 13.0098V13.0107C1.20819 20.0676 6.89419 25.7891 13.9062 25.7891V25.7881C15.5852 25.7905 17.2477 25.4566 18.7979 24.8047C20.3483 24.1526 21.7551 23.1958 22.9375 21.9902L23.9443 20.9648L22.5186 21.1445C21.9777 21.2127 21.4268 21.2471 20.8662 21.2471C13.4623 21.2471 7.46094 15.2059 7.46094 7.75684C7.46098 5.85643 7.85055 4.04854 8.55566 2.40918L9.12598 1.08398L7.85742 1.77246Z";

export default function ChangeTheme () {
    const [theme, setTheme] = useState<boolean>(false);
    gsap.registerPlugin(MorphSVGPlugin);

    useEffect(() => {
        if (theme) {
            gsap.to("#morph", { duration: 1, morphSVG: { shape: newPath } });
        } else {
            gsap.to("#morph", { duration: 1, morphSVG: { shape: originalPath } });
        }
    }, [theme]);

    return (
        <button className={styles.changeTheme} type="button" onClick={() => setTheme(!theme)}>
            <div className={styles.theme}>
                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" fill="none">
                    <path id="morph"  d={originalPath} fill="#2E374F" stroke="#2E374F"/>
                </svg>
            </div>
        </button>
    )
}
